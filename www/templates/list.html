<ion-header-bar class="bar-positive">
  <h2 class="title">Grammar Topics</h2>
</ion-header-bar>
<!-- header -->
<div class="bar bar-subheader item-input-inset bar-light">
  <label class="item-input-wrapper">
    <i class="icon ion-search placeholder-icon"></i>
    <input type="search" placeholder="Search" ng-model="query" />
  </label>
</div>
<!-- subheader -->
<ion-content class="has-subheader">
  <ion-list>
    <div ng-repeat="item in topics | filter: query">
      <ion-item ng-class="{active: isChildShown(item)}"
                ng-href="#/tab/list/{{item.slug}}"
                ng-click="toggleChild(item, $event);"
                class="item-icon-right">
        {{ $index+1 }}. {{item.title}}
        <i class="icon" ng-if="item.child" ng-class="isChildShown(item) ? 'ion-minus' : 'ion-plus'"></i> 
      </ion-item>
      <ion-item ng-show="isChildShown(item)"
                href="#/tab/list/{{item.slug}}"
                class="item-accordion">
        {{item.title}}
      </ion-item>
      <ion-item ng-repeat="subitem in item.child" 
                ng-show="isChildShown(item)"
                class="item-accordion">
        {{subitem.title}}
      </ion-item>
    </div>
  </ion-list>
</ion-content>